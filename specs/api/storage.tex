\subsection{Chunks}

\begin{apiRoute}{GET}{/chunk/\{reference\}}{Retrieve chunk as in \ref{def:retrieve}}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{reference}{hex string}
\end{routeParameter}
\begin{headerParameter} 
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\end{headerParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\responseItem{403}{Forbidden}{}
\responseItem{408}{Request Timeout}{} 
\responseItem{420}{Enhance your calm}{} 
\end{routeResponse}
\end{apiRoute}




\begin{apiRoute}{POST}{/chunk/(?span=\{span\})}{Create chunk as in \ref{def:store}}
{
}
{ }

\begin{queryParameter} 
\queryParamItem{span}{integer}
\end{queryParameter}

\begin{headerParameter} 
\headerParamItem{SWARM-TAG}{hex string}
\headerParamItem{SWARM-STAMP}{hex string}
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\headerParamItem{SWARM-PIN}{bool}
\headerParamItem{SWARM-PARITIES}{integer}
\end{headerParameter}

\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\responseItem{400}{Bad request}{} 
\responseItem{400}{Bad request}{} 
\responseItem{413}{Payload Too Large}{} 

\end{routeResponse}
\end{apiRoute}




\begin{apiRoute}{GET}{/soc/\{owner\}/\{id\}}{Retrieve single owner chunk as in \ref{def:soc-retrieve} }
{
}
{ }

\begin{routeParameter} 
\routeParamItem{owner}{eth address of single owner}
\routeParamItem{id}{identifier within owner namespace}
\end{routeParameter}
\begin{queryParameter} 
\queryParamItem{key}{string}
\end{queryParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\responseItem{400}{Bad request}{} 

\end{routeResponse}
\end{apiRoute}




\begin{apiRoute}{POST}{/soc/\{owner\}/\{id\}?span=\{span\}}{Create new single owner chunk as in \ref{def:soc-store} }
{
}
{ }

\begin{routeParameter} 
\routeParamItem{owner}{eth address of single owner}
\routeParamItem{id}{identifier within owner namespace}
\end{routeParameter}
\begin{headerParameter} 
\headerParamItem{SWARM-TAG}{hex string}
\headerParamItem{SWARM-STAMP}{hex string}
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\headerParamItem{SWARM-PIN}{bool}
\headerParamItem{SWARM-PARITIES}{integer}
\end{headerParameter}
\begin{queryParameter} 
\queryParamItem{span}{string}
\end{queryParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}

\subsection{File \statusgreen}\label{spec:api:file}

\begin{apiRoute}{POST}{/file/}{Path description as in \ref{def:swarm-hash}}
{
}
{ }

\begin{headerParameter} 
\headerParamItem{SWARM-TAG}{hex string}
\headerParamItem{SWARM-STAMP}{hex string}
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\headerParamItem{SWARM-PIN}{bool}
\headerParamItem{SWARM-PARITIES}{integer}
\end{headerParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}




\begin{apiRoute}{GET}{/file/\{reference\}}{Retrieve file by reference as in \ref{def:file-retrieval}}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{reference}{string}
\end{routeParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}




\begin{apiRoute}{PUT}{/file/ }{Update file, returns new reference}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{file/collection}{as request body}
\end{routeParameter}
\begin{headerParameter} 
\headerParamItem{SWARM-TAG}{hex string}
\headerParamItem{SWARM-STAMP}{hex string}
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\headerParamItem{SWARM-PIN}{bool}
\headerParamItem{SWARM-PARITIES}{integer}
\end{headerParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}



\subsection{Manifest \statusgreen}\label{spec:api:manifest}




\begin{apiRoute}{GET}{/manifest/\{node:reference\}/\{path\}}{Lookup manifest by path as in \ref{def:manifests-lookup}}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{node reference}{hex string}
\routeParamItem{path}{string}
\end{routeParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}



\begin{apiRoute}{DELETE}{/manifest/\{node\}/\{path\} }{Delete manifest by path as in \ref{def:manifest-remove}}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{node}{string}
\routeParamItem{path}{string}
\end{routeParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}



\begin{apiRoute}{PUT}{/manifest/\{old\} }{Update manifest as in \ref{def:manifest-update}}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{old}{string}
\end{routeParameter}
\begin{routeResponse}{application/json}
v
\end{routeResponse}
\end{apiRoute}




\begin{apiRoute}{POST}{/manifest/\{old\}/\{new\}}{Merge manifests as in \ref{def:manifest-merge}}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{old}{string}
\routeParamItem{new}{string}
\end{routeParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}

\subsection{High level storage API \statusyellow}\label{spec:api:manifest}


\begin{apiRoute}{GET}{/bzz:/\{host\}/\{path\}}{Append to upload, returns new manifest}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{file/collection}{as request body}
\end{routeParameter}
\begin{headerParameter} 
\headerParamItem{SWARM-TAG}{hex string}
\headerParamItem{SWARM-STAMP}{hex string}
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\headerParamItem{SWARM-PIN}{bool}
\headerParamItem{SWARM-PARITIES}{integer}
\end{headerParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}



\begin{apiRoute}{PUT}{/bzz:/}{Append to upload, returns new manifest}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{file/collection}{as request body}
\end{routeParameter}
\begin{headerParameter} 
\headerParamItem{SWARM-TAG}{hex string}
\headerParamItem{SWARM-STAMP}{hex string}
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\headerParamItem{SWARM-PIN}{bool}
\headerParamItem{SWARM-PARITIES}{integer}
\end{headerParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}




\begin{apiRoute}{POST}{/bzz:/}{Upload file or collection, returns tag used for tracking global sync state}
{
}
{ }

\begin{routeParameter} 
\routeParamItem{file/collection}{as request body}
\end{routeParameter}
\begin{headerParameter} 
\headerParamItem{SWARM-TAG}{hex string}
\headerParamItem{SWARM-STAMP}{hex string}
\headerParamItem{SWARM-ENCRYPTION}{hex string}
\headerParamItem{SWARM-PIN}{bool}
\headerParamItem{SWARM-PARITIES}{integer}
\end{headerParameter}
\begin{routeResponse}{application/json}
\responseItem{200}{ok}{}
\end{routeResponse}
\end{apiRoute}


